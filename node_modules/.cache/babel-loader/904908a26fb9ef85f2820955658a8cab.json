{"ast":null,"code":"var _jsxFileName = \"D:\\\\Workspace\\\\ci-tools-master\\\\frontend\\\\src\\\\components\\\\Monitoring\\\\MonitoringWeb.jsx\";\nimport React, { Component, Fragment } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { historyUrlMonitoring } from \"../../config\";\nimport { createMonitoringTask } from \"../../api\";\nimport { tokenName } from \"../../api/const\";\n\nclass MonitoringWeb extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onHandleChange = e => {\n      let target = e.target;\n      let id = target.id;\n      let value = target.value;\n      this.setState({\n        [id]: value\n      });\n    };\n\n    this.onHandleSubmit = e => {\n      e.preventDefault();\n      const token = localStorage.getItem(tokenName);\n      createMonitoringTask(token, 'POST', {\n        sitename: this.state.monitoringName,\n        url: this.state.monitoringUrl\n      }).then(res => {\n        this.setState({\n          succesSubmit: true\n        });\n      }).catch(err => {\n        if (err.response.status === 401) {\n          window.location = '/login';\n        } else {\n          return Promise.reject(err);\n        }\n      });\n    };\n\n    this.state = {\n      monitoringName: '',\n      monitoringUrl: '',\n      succesSubmit: false\n    };\n  }\n\n  render() {\n    if (this.state.succesSubmit) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: historyUrlMonitoring,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onHandleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputURL\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }\n    }, \"Monitoring Site Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"monitoringName\",\n      placeholder: \"CI-Tool\",\n      onChange: this.onHandleChange,\n      value: this.state.monitoringName,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-7 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"inputURL\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 33\n      }\n    }, \"Monitoring URLs\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"monitoringUrl\",\n      className: \"form-control\",\n      placeholder: \"Full Url\",\n      onChange: this.onHandleChange,\n      value: this.state.monitoringUrl,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    }, \"Start Monitoring\")))));\n  }\n\n}\n\nexport default MonitoringWeb;","map":{"version":3,"names":["React","Component","Fragment","Redirect","historyUrlMonitoring","createMonitoringTask","tokenName","MonitoringWeb","constructor","props","onHandleChange","e","target","id","value","setState","onHandleSubmit","preventDefault","token","localStorage","getItem","sitename","state","monitoringName","url","monitoringUrl","then","res","succesSubmit","catch","err","response","status","window","location","Promise","reject","render"],"sources":["D:/Workspace/ci-tools-master/frontend/src/components/Monitoring/MonitoringWeb.jsx"],"sourcesContent":["import React, {Component, Fragment} from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {historyUrlMonitoring} from \"../../config\"\nimport {createMonitoringTask} from \"../../api\";\nimport {tokenName} from \"../../api/const\";\n\nclass MonitoringWeb extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            monitoringName: '',\n            monitoringUrl: '',\n            succesSubmit: false,\n        };\n    }\n\n    onHandleChange = e => {\n        let target = e.target;\n        let id = target.id;\n        let value = target.value;\n        this.setState({\n            [id]: value\n        });\n    };\n\n    // handleText = i => e => {\n    //     let monitoringUrl = [...this.state.monitoringUrl]\n    //     monitoringUrl[i] = e.target.value\n    //\n    //     this.setState({\n    //         monitoringUrl\n    //     })\n    // };\n\n    // handleDelete = i => e => {\n    //     e.preventDefault();\n    //     let monitoringUrl = [\n    //         ...this.state.monitoringUrl.slice(0, i),\n    //         ...this.state.monitoringUrl.slice(i + 1)\n    //     ];\n    //     this.setState({\n    //         monitoringUrl\n    //     })\n    // };\n    //\n    // addQuestion = e => {\n    //     e.preventDefault();\n    //     let monitoringUrl = this.state.monitoringUrl.concat([''])\n    //     this.setState({\n    //         monitoringUrl\n    //     })\n    // };\n\n    onHandleSubmit = e => {\n        e.preventDefault();\n        const token = localStorage.getItem(tokenName);\n        createMonitoringTask(token, 'POST', {\n            sitename: this.state.monitoringName,\n            url: this.state.monitoringUrl,\n        }).then(res => {\n            this.setState({\n                succesSubmit: true\n            })\n        }).catch(err => {\n            if (err.response.status === 401) {\n                window.location = '/login';\n            } else {\n                return Promise.reject(err);\n            }\n        });\n    };\n\n    render() {\n        if (this.state.succesSubmit) {\n            return <Redirect to={historyUrlMonitoring}/>\n        }\n        return (\n            <div className=\"content\">\n                <form onSubmit={this.onHandleSubmit}>\n                    <div className=\"form-row\">\n                        <div className=\"form-group col-md-7\">\n                            <label htmlFor=\"inputURL\">Monitoring Site Name</label>\n                            <input type=\"text\"\n                                   className=\"form-control\"\n                                   id=\"monitoringName\"\n                                   placeholder=\"CI-Tool\"\n                                   onChange={this.onHandleChange}\n                                   value={this.state.monitoringName}\n                                   required\n                            />\n                        </div>\n                    </div>\n                    <Fragment>\n                        <div className=\"form-row\">\n                            <div className=\"form-group col-md-7 \">\n                                <label htmlFor=\"inputURL\">Monitoring URLs</label>\n                                {/*{this.state.monitoringUrl.map((url, index) => (*/}\n                                {/*    <span key={index}>*/}\n                                <input\n                                    type=\"text\"\n                                    id=\"monitoringUrl\"\n                                    className=\"form-control\"\n                                    placeholder=\"Full Url\"\n                                    onChange={this.onHandleChange}\n                                    value={this.state.monitoringUrl}\n                                    required\n                                />\n                                {/*<button className=\"btn btn-danger\" type=\"button\"*/}\n                                {/*        onClick={this.handleDelete(index)}>X</button>*/}\n                                {/*</span>*/}\n                                {/*))}*/}\n\n                                {/*<button className=\"btn btn-outline-secondary\" type=\"button\"*/}\n                                {/*        onClick={this.addQuestion}>+*/}\n                                {/*</button>*/}\n                            </div>\n                        </div>\n                    </Fragment>\n\n                    <div className=\"form-row\">\n                        <div className=\"col-md-10\">\n                            <button type=\"submit\" className=\"btn btn-primary\">Start Monitoring</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default MonitoringWeb;"],"mappings":"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"},"metadata":{},"sourceType":"module"}