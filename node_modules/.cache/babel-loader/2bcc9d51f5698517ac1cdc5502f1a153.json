{"ast":null,"code":"var _jsxFileName = \"C:\\\\web\\\\ci-tools\\\\frontend\\\\src\\\\components\\\\Style\\\\Detail\\\\DastDetailMemo.jsx\";\nimport React, { Component } from 'react';\nimport { getDastEditMemo } from 'api';\nimport { tokenName } from \"../../../api/const\";\nimport Modal from \"react-bootstrap/lib/Modal\";\n\nclass DastDetailMemo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      content: props.content,\n      idMemo: props.idMemo\n    };\n    this.onHandleChange = this.onHandleChange.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n  }\n\n  onHandleChange(event, id) {\n    var target = event.target; // var id = target.id;\n\n    var value = target.value;\n    this.setState({\n      content: value\n    });\n  }\n\n  handleClose(event, id, content) {\n    const tokenUser = localStorage.getItem(tokenName);\n    getDastEditMemo(tokenUser, id, {\n      note: content\n    }).then(res => {\n      let target = document.getElementById(id);\n      target.parentNode.getElementsByTagName('span')[0].innerText = content;\n      document.getElementsByClassName(\"close\")[0].click();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }\n    }, \"Detail Content\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"fix-witdh\",\n      value: this.state.content,\n      id: this.state.idMemo,\n      onChange: event => this.onHandleChange(event, this.state.idMemo),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      variant: \"primary\",\n      onClick: event => this.handleClose(event, this.state.idMemo, this.state.content),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }, \"Save Changes\")));\n  }\n\n}\n\nexport default DastDetailMemo;","map":{"version":3,"names":["React","Component","getDastEditMemo","tokenName","Modal","DastDetailMemo","constructor","props","state","loading","content","idMemo","onHandleChange","bind","handleClose","event","id","target","value","setState","tokenUser","localStorage","getItem","note","then","res","document","getElementById","parentNode","getElementsByTagName","innerText","getElementsByClassName","click","render"],"sources":["C:/web/ci-tools/frontend/src/components/Style/Detail/DastDetailMemo.jsx"],"sourcesContent":["import React, {Component} from 'react';\r\nimport {getDastEditMemo } from 'api'\r\nimport {tokenName} from \"../../../api/const\";\r\nimport Modal from \"react-bootstrap/lib/Modal\";\r\n\r\n\r\nclass DastDetailMemo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: true,\r\n            content: props.content,\r\n            idMemo:props.idMemo\r\n        };\r\n        this.onHandleChange = this.onHandleChange.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n    }\r\n\r\n    onHandleChange(event, id) {\r\n        var target = event.target;\r\n        // var id = target.id;\r\n        var value = target.value;\r\n        this.setState({\r\n            content: value\r\n        });\r\n    }\r\n    handleClose(event,id,content) {\r\n        const tokenUser = localStorage.getItem(tokenName);\r\n        getDastEditMemo(tokenUser,id, {\r\n            note: content\r\n        }).then(res => {\r\n            let target = document.getElementById(id);\r\n            target.parentNode.getElementsByTagName('span')[0].innerText = content;\r\n            document.getElementsByClassName(\"close\")[0].click();\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Detail Content</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <textarea\r\n                        className=\"fix-witdh\"\r\n                        value={this.state.content}\r\n                        id={this.state.idMemo}\r\n                        onChange={event => this.onHandleChange(event, this.state.idMemo)}\r\n                    />\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <button\r\n                        variant=\"primary\"\r\n                        onClick={event => this.handleClose(event, this.state.idMemo,this.state.content)}\r\n                    >\r\n                        Save Changes\r\n                    </button>\r\n                </Modal.Footer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DastDetailMemo;"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,eAAR,QAA+B,KAA/B;AACA,SAAQC,SAAR,QAAwB,oBAAxB;AACA,OAAOC,KAAP,MAAkB,2BAAlB;;AAGA,MAAMC,cAAN,SAA6BJ,SAA7B,CAAuC;EACnCK,WAAW,CAACC,KAAD,EAAQ;IACf,MAAMA,KAAN;IACA,KAAKC,KAAL,GAAa;MACTC,OAAO,EAAE,IADA;MAETC,OAAO,EAAEH,KAAK,CAACG,OAFN;MAGTC,MAAM,EAACJ,KAAK,CAACI;IAHJ,CAAb;IAKA,KAAKC,cAAL,GAAsB,KAAKA,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAtB;IACA,KAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBD,IAAjB,CAAsB,IAAtB,CAAnB;EACH;;EAEDD,cAAc,CAACG,KAAD,EAAQC,EAAR,EAAY;IACtB,IAAIC,MAAM,GAAGF,KAAK,CAACE,MAAnB,CADsB,CAEtB;;IACA,IAAIC,KAAK,GAAGD,MAAM,CAACC,KAAnB;IACA,KAAKC,QAAL,CAAc;MACVT,OAAO,EAAEQ;IADC,CAAd;EAGH;;EACDJ,WAAW,CAACC,KAAD,EAAOC,EAAP,EAAUN,OAAV,EAAmB;IAC1B,MAAMU,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqBnB,SAArB,CAAlB;IACAD,eAAe,CAACkB,SAAD,EAAWJ,EAAX,EAAe;MAC1BO,IAAI,EAAEb;IADoB,CAAf,CAAf,CAEGc,IAFH,CAEQC,GAAG,IAAI;MACX,IAAIR,MAAM,GAAGS,QAAQ,CAACC,cAAT,CAAwBX,EAAxB,CAAb;MACAC,MAAM,CAACW,UAAP,CAAkBC,oBAAlB,CAAuC,MAAvC,EAA+C,CAA/C,EAAkDC,SAAlD,GAA8DpB,OAA9D;MACAgB,QAAQ,CAACK,sBAAT,CAAgC,OAAhC,EAAyC,CAAzC,EAA4CC,KAA5C;IACH,CAND;EAOH;;EAGDC,MAAM,GAAG;IAEL,oBACI;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACI,oBAAC,KAAD,CAAO,MAAP;MAAc,WAAW,MAAzB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACI,oBAAC,KAAD,CAAO,KAAP;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,oBADJ,CADJ,eAII,oBAAC,KAAD,CAAO,IAAP;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACI;MACI,SAAS,EAAC,WADd;MAEI,KAAK,EAAE,KAAKzB,KAAL,CAAWE,OAFtB;MAGI,EAAE,EAAE,KAAKF,KAAL,CAAWG,MAHnB;MAII,QAAQ,EAAEI,KAAK,IAAI,KAAKH,cAAL,CAAoBG,KAApB,EAA2B,KAAKP,KAAL,CAAWG,MAAtC,CAJvB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADJ,CAJJ,eAYI,oBAAC,KAAD,CAAO,MAAP;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACI;MACI,OAAO,EAAC,SADZ;MAEI,OAAO,EAAEI,KAAK,IAAI,KAAKD,WAAL,CAAiBC,KAAjB,EAAwB,KAAKP,KAAL,CAAWG,MAAnC,EAA0C,KAAKH,KAAL,CAAWE,OAArD,CAFtB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,kBADJ,CAZJ,CADJ;EAuBH;;AAzDkC;;AA4DvC,eAAeL,cAAf"},"metadata":{},"sourceType":"module"}